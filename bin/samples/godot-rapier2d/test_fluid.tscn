[gd_scene load_steps=16 format=3 uid="uid://dudno1v5vtvh"]

[ext_resource type="Script" path="res://samples/godot-rapier2d/Faucet2D.gd" id="1_omq0c"]
[ext_resource type="MultiMesh" uid="uid://d0bhettx43xt1" path="res://samples/godot-rapier2d/fluid_multi_mesh.tres" id="3_880wm"]
[ext_resource type="Texture2D" uid="uid://cho3shol3rky2" path="res://samples/godot-rapier2d/Radial2D.svg" id="3_py844"]
[ext_resource type="Script" path="res://samples/godot-rapier2d/Fluid2DRenderer.gd" id="5_2rahx"]
[ext_resource type="Material" uid="uid://clnmfvqslf2ka" path="res://samples/godot-rapier2d/water_shader.tres" id="6_2yb6s"]

[sub_resource type="FluidEffect2DSurfaceTensionAKINCI" id="FluidEffect2DSurfaceTensionAKINCI_iggvj"]
fluid_tension_coefficient = 10.0
boundary_adhesion_coefficient = 10.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8y86f"]
size = Vector2(2676, 1041)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xuw7n"]
size = Vector2(1722.94, 828)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c23gn"]
size = Vector2(1177, 323.25)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sd5wa"]
size = Vector2(521.5, 914.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_os3ki"]
size = Vector2(1521, 2437.5)

[sub_resource type="CircleShape2D" id="CircleShape2D_mdcyi"]
radius = 72.06

[sub_resource type="RectangleShape2D" id="RectangleShape2D_q8nq7"]
size = Vector2(80, 260)

[sub_resource type="CircleShape2D" id="CircleShape2D_k12t3"]

[sub_resource type="GDScript" id="GDScript_0oosp"]
script/source = "extends SubViewport

"

[node name="Node2D" type="Node2D"]

[node name="Water" type="Fluid2D" parent="."]
points = PackedVector2Array(1827, 1651, 1867, 1651, 1907, 1651, 1947, 1651, 1987, 1651, 1827, 1691, 1867, 1691, 1907, 1691, 1947, 1691, 1987, 1691)
density = 80.0
lifetime = 20.0
effects = Array[FluidEffect2D]([SubResource("FluidEffect2DSurfaceTensionAKINCI_iggvj")])
modulate = Color(0.654902, 0.768627, 1, 1)
position = Vector2(414, -1750)
script = ExtResource("1_omq0c")
max_particles = 1500

[node name="Timer" type="Timer" parent="Water"]
wait_time = 0.1
autostart = true

[node name="Water2" type="Fluid2D" parent="."]
points = PackedVector2Array(1827, 1651, 1867, 1651, 1907, 1651, 1947, 1651, 1987, 1651, 1827, 1691, 1867, 1691, 1907, 1691, 1947, 1691, 1987, 1691)
density = 80.0
lifetime = 20.0
effects = Array[FluidEffect2D]([SubResource("FluidEffect2DSurfaceTensionAKINCI_iggvj")])
modulate = Color(0.654902, 0.768627, 1, 1)
position = Vector2(-3485, -1736)
script = ExtResource("1_omq0c")
max_particles = 1500

[node name="Timer" type="Timer" parent="Water2"]
wait_time = 0.1
autostart = true

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2(126, 282)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(-3794, 1813)
shape = SubResource("RectangleShape2D_8y86f")

[node name="CollisionShape2D12" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(-4216, 860)
shape = SubResource("RectangleShape2D_8y86f")

[node name="CollisionShape2D13" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(-3409, 261)
rotation = 1.2564
shape = SubResource("RectangleShape2D_8y86f")

[node name="CollisionShape2D14" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(-2104, -1120)
rotation = -0.0459269
shape = SubResource("RectangleShape2D_8y86f")

[node name="CollisionShape2D15" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(3374, -699)
rotation = 0.981285
shape = SubResource("RectangleShape2D_8y86f")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(-1170, 2352)
shape = SubResource("RectangleShape2D_8y86f")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(-119, 2413)
shape = SubResource("RectangleShape2D_xuw7n")

[node name="CollisionShape2D8" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(-1371, 1261)
shape = SubResource("RectangleShape2D_xuw7n")

[node name="CollisionShape2D9" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(282, 1097.75)
shape = SubResource("RectangleShape2D_c23gn")

[node name="CollisionShape2D16" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(3394, 1126)
shape = SubResource("RectangleShape2D_c23gn")

[node name="CollisionShape2D10" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(316, 1374)
shape = SubResource("RectangleShape2D_c23gn")

[node name="CollisionShape2D11" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(869, 2149)
rotation = 0.563727
shape = SubResource("RectangleShape2D_c23gn")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(1824, 2579)
shape = SubResource("RectangleShape2D_8y86f")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(2171.25, 1708.25)
shape = SubResource("RectangleShape2D_sd5wa")

[node name="CollisionShape2D7" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(4203, 1771)
shape = SubResource("RectangleShape2D_os3ki")

[node name="CollisionShape2D18" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(4088, 2140)
rotation = 0.898378
shape = SubResource("RectangleShape2D_os3ki")

[node name="CollisionShape2D6" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(1405, 1225)
shape = SubResource("CircleShape2D_mdcyi")

[node name="CollisionShape2D21" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(1609, 1062)
shape = SubResource("CircleShape2D_mdcyi")

[node name="CollisionShape2D22" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(1354, 916)
shape = SubResource("CircleShape2D_mdcyi")

[node name="CollisionShape2D23" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(1609, 742)
shape = SubResource("CircleShape2D_mdcyi")

[node name="CollisionShape2D24" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(1317, 581)
shape = SubResource("CircleShape2D_mdcyi")

[node name="CollisionShape2D25" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(1564, 411)
shape = SubResource("CircleShape2D_mdcyi")

[node name="CollisionShape2D26" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(1646, 1402)
shape = SubResource("CircleShape2D_mdcyi")

[node name="CollisionShape2D27" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(1693, 1717)
shape = SubResource("CircleShape2D_mdcyi")

[node name="CollisionShape2D28" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(2588, 1067)
shape = SubResource("CircleShape2D_mdcyi")

[node name="CollisionShape2D29" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(2258, 1009)
shape = SubResource("CircleShape2D_mdcyi")

[node name="CollisionShape2D30" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(1962, 953)
shape = SubResource("CircleShape2D_mdcyi")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(521, 1448)
zoom = Vector2(0.3, 0.3)

[node name="PinJoint2D" type="PinJoint2D" parent="."]
position = Vector2(1384, 1875)
node_a = NodePath("StaticBody2D3")
node_b = NodePath("RigidBody2D")
motor_enabled = true
motor_target_velocity = 349.066

[node name="RigidBody2D" type="RigidBody2D" parent="PinJoint2D"]
position = Vector2(-32, -1)
mass = 400.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="PinJoint2D/RigidBody2D"]
position = Vector2(12, 141.5)
shape = SubResource("RectangleShape2D_q8nq7")

[node name="StaticBody2D3" type="StaticBody2D" parent="PinJoint2D"]
position = Vector2(-1384, -1875)

[node name="CollisionShape2D" type="CollisionShape2D" parent="PinJoint2D/StaticBody2D3"]
position = Vector2(1380, 1879)
shape = SubResource("CircleShape2D_k12t3")

[node name="PinJoint2D2" type="PinJoint2D" parent="."]
position = Vector2(2858, 1869)
node_a = NodePath("StaticBody2D3")
node_b = NodePath("RigidBody2D")
motor_enabled = true
motor_target_velocity = 349.066

[node name="RigidBody2D" type="RigidBody2D" parent="PinJoint2D2"]
position = Vector2(-21, -1)
mass = 400.0
max_contacts_reported = 4
contact_monitor = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="PinJoint2D2/RigidBody2D"]
position = Vector2(24, 122)
shape = SubResource("RectangleShape2D_q8nq7")

[node name="StaticBody2D3" type="StaticBody2D" parent="PinJoint2D2"]
position = Vector2(-1384, -1875)

[node name="CollisionShape2D" type="CollisionShape2D" parent="PinJoint2D2/StaticBody2D3"]
position = Vector2(1380, 1879)
shape = SubResource("CircleShape2D_k12t3")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="SubViewportContainer" type="SubViewportContainer" parent="CanvasLayer"]
material = ExtResource("6_2yb6s")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="CanvasLayer/SubViewportContainer"]
transparent_bg = true
size = Vector2i(1920, 1080)
script = SubResource("GDScript_0oosp")

[node name="Fluid2DRenderer" type="MultiMeshInstance2D" parent="CanvasLayer/SubViewportContainer/SubViewport" node_paths=PackedStringArray("fluid")]
multimesh = ExtResource("3_880wm")
texture = ExtResource("3_py844")
script = ExtResource("5_2rahx")
fluid = NodePath("../../../../Water")
color = Color(1, 1, 1, 1)

[node name="Fluid2DRenderer2" type="MultiMeshInstance2D" parent="CanvasLayer/SubViewportContainer/SubViewport" node_paths=PackedStringArray("fluid")]
multimesh = ExtResource("3_880wm")
texture = ExtResource("3_py844")
script = ExtResource("5_2rahx")
fluid = NodePath("../../../../Water2")
color = Color(1, 1, 1, 1)

[node name="Camera2D" type="Camera2D" parent="CanvasLayer/SubViewportContainer/SubViewport"]
position = Vector2(521, 1448)
zoom = Vector2(0.3, 0.3)

[node name="Label" type="Label" parent="."]
offset_left = -2020.0
offset_top = 2424.0
offset_right = 3429.0
offset_bottom = 3106.0
theme_override_font_sizes/font_size = 500
text = "Godot Rapier2D Fluid"

[node name="Polygon2D" type="Polygon2D" parent="."]
z_index = -100
color = Color(0.345098, 0.541176, 1, 1)
polygon = PackedVector2Array(-5417, -1545, 6372, -1559, 6316, 5057, -5249, 4917)

[connection signal="timeout" from="Water/Timer" to="Water" method="_on_timer_timeout"]
[connection signal="timeout" from="Water2/Timer" to="Water2" method="_on_timer_timeout"]
[connection signal="body_entered" from="PinJoint2D2/RigidBody2D" to="PinJoint2D2/RigidBody2D" method="_on_body_entered"]
